<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PW flakes</title>
    <link rel="shortcut icon" href="/favicon-flakes.png" type="image/png" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="nipa.js"></script>
    <script src="flakes.js"></script>
    <script>
        nipa_load_sitemap();
    </script>
    <link rel="stylesheet" href="nipa.css">
    <style>
      tr {
          white-space: nowrap;
      }
    </style>
</head>
<body onload="do_it();">
<div id="sitemap"></div>
<div class="row-small">
    <fieldset>
        <legend>Loading:</legend>
        <div style="height=1em">&nbsp;</div>
        <label for="br-cnt">Branch (column) count:</label>
        <br />
        <input type="number" id="br-cnt" name="ld-pw" min="1" value="100" disabled>
        <div style="height=1em">&nbsp;</div>
        <label for="br-pfx">Branch prefix</label>
        <select id="br-pfx" name="ld-pw" disabled></select>
        <div style="height=1em">&nbsp;</div>
        <label for="ld-remote">Remote</label>
        <select id="ld-remote" name="ld-pw" disabled></select>
        <div style="height=1em">&nbsp;</div>
        <input type="checkbox" id="ld-cases" name="ld-pw" disabled />
        <label for="ld-cases">individual sub-cases</label>
    </fieldset>
    <fieldset>
        <legend>Filtering:</legend>
        <div class="row-small">
            <div class="column-small">
                <label for="tn-needle">Name contains: </label>
                <input type="text" id="tn-needle" name="fl-pw" disabled>
            </div>
            <div class="column-small">
                <label for="min-flip">Min state flips: </label>
                <input type="number" id="min-flip" name="fl-pw" min="0" value="1" disabled>
            </div>
            <div class="column-small">
                <input type="checkbox" id="pw-y" name="fl-pw" disabled checked />
                <label for="pw-y">Reported to patchwork</label>
                <br />
                <input type="checkbox" id="pw-n" name="fl-pw" disabled checked />
                <label for="pw-n">Ignored by patchwork</label>
            </div>
            <div class="column-small">
                <fieldset>
                    <legend>Sort:</legend>

                    <div>
                        <input type="radio" id="sort-flips" name="fl-pw" value="cnt" disabled checked />
                        <label for="sort-flips">flips</label>
                    </div>
                    <div>
                        <input type="radio" id="sort-streak" name="fl-pw" value="streak" disabled />
                        <label for="sort-streak">current streak</label>
                    </div>
                </fieldset>
                <p>
                    <a href="#" id="update-url-button" class="nipa-button">Update URL</a>
                </p>
            </div>
        </div>
        <div class="row-small">
            <span id="fl-warn-box" style="color: red">Loading...</span>
        </div>
    </fieldset>
    <div class="row-small">
        <div class="column-small">
            <table>
                <tbody>
                <tr><td class="box-pass">pass</td></tr>
                <tr><td class="box-skip">skip</td></tr>
                <tr><td class="box-fail">fail</td></tr>
                <tr><td class="box-flake">flake</td></tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div class="row">
    <div class="column">
        <h3>Test flakiness, sorted by the number of flips</h3>
        <table id="results">
        </table>
    </div>
</div>
</body>
</html>
